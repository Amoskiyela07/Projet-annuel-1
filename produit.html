<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Nos produits</title>
<link rel="stylesheet" href="produit.css">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/b0e76e0a54.js" crossorigin="anonymous"></script>

</head>
<body>
   <!-- header --> 
     <header>
        <nav>
            <div class="menu">
                <ul id="menuList">
                    <li><a href="index.html">Acceuil</a></li>
                    <li><a href="a propos de nous.html">A propos de nous</a></li>
                    <li><a href="#">Catalogue de produit</a></li>
                    <li><a href="contact.html">Contact</a></li>
            </ul>
            </div>
            <div class="menu-icon">
                <i class="fa-solid fa-bars" onclick="toggleMenu()"></i>
            </div>
        </nav>
        <img src="logo.jpg" alt="logo" class="logo">
        <div class="header-end">
            <a class="btn" href="panier d'achat.html">Panier (<span id="cart-count">0</span>)</a> 
        </div>
     </header>
    <!-- header -->

<!-- Section filtres et tri -->
<section id="filters">
<select id="category-filter">
<option value="all">Tout</option>
<option value="viennoiseries">Viennoiseries</option>
<option value="pains">Pains</option>
<option value="patisseries">Pâtisseries</option>
</select>
<select id="sort">
<option value="default">Trier par : défaut</option>
<option value="price-asc">Prix croissant</option>
<option value="price-desc">Prix décroissant</option>
</select>
</section>
<!-- Catalogue produits -->
<div class="product-grid" id="catalogue">
<div class="product-card" data-category="pains" data-price="1.20">
<img alt="Baguette Tradition" src="Baguette Tradition.jpeg"/>
<h2>Baguette Traditionnelle</h2>
<p>1,20$</p>
<button class="add-to-cart btn" data-id="baguette-tradition" data-name="Baguette Tradition" data-price="1.20">Ajouter au panier</button>
</div>
<div class="product-card" data-category="viennoiseries" data-price="1.50">
<img alt="Croissant Beurre" src="Croissant Beurre.jpeg"/>
<h2>Croissant Beurre</h2>
<p>1,50$</p>
<button class="add-to-cart btn" data-id="croissant-beurre" data-name="Croissant Beurre" data-price="1.50">Ajouter au panier</button>
</div>
<div class="product-card" data-category="viennoiseries" data-price="1.70">
<img alt="Pain au Chocolat" src="Pain au chocolat.jpeg"/>
<h2>Pain au Chocolat</h2>
<p>1,70$</p>
<button class="add-to-cart btn" data-id="pain-au-chocolat" data-name="Pain au Chocolat" data-price="1.70">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="2.50">
<img alt="Pain Complet" src="Pain Complet.jpeg"/>
<h2>Pain Complet</h2>
<p>2,50$</p>
<button class="add-to-cart btn" data-id="pain-complet" data-name="Pain Complet" data-price="2.50">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="3.00">
<img alt="Pain aux Céréales" src="Pain aux Céréales.jpeg"/>
<h2>Pain aux Céréales</h2>
<p>3,00$</p>
<button class="add-to-cart btn" data-id="pain-aux-cereales" data-name="Pain aux Céréales" data-price="3.00">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="3.20">
<img alt="Pain aux Noix" src="Pain aux Noix.jpeg"/>
<h2>Pain aux Noix</h2>
<p>3,20$</p>
<button class="add-to-cart btn" data-id="pain-aux-noix" data-name="Pain aux Noix" data-price="3.20">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="1.80">
<img alt="Brioche" src="Brioche.jpeg"/>
<h2>Brioche</h2>
<p>1,80$</p>
<button class="add-to-cart btn" data-id="brioche" data-name="Brioche" data-price="1.80">Ajouter au panier</button>
</div>
<div class="product-card" data-category="viennoiseries" data-price="1.60">
<img alt="Chouquette" src="Chouquette.jpeg"/>
<h2>Chouquette</h2>
<p>1,60$</p>
<button class="add-to-cart btn" data-id="chouquette" data-name="Chouquette" data-price="1.60">Ajouter au panier</button>
</div>
<div class="product-card" data-category="patisseries" data-price="2.50">
<img alt="Tartelette aux Fruits" src="Tartelette aux Fruits.jpeg"/>
<h2>Tartelette aux Fruits</h2>
<p>2,50$</p>
<button class="add-to-cart btn" data-id="tartelette-aux-fruits" data-name="Tartelette aux Fruits" data-price="2.50">Ajouter au panier</button>
</div>
<div class="product-card" data-category="patisseries" data-price="2.80">
<img alt="Pain d'Épices" src="Pain d'Épices.jpeg"/>
<h2>Pain d'Épices</h2>
<p>2,80$</p>
<button class="add-to-cart btn" data-id="pain-epices" data-name="Pain d'Épices" data-price="2.80">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="2.20">
<img alt="Pain de Mie" src="Pain de Mie.jpeg"/>
<h2>Pain de Mie</h2>
<p>2,20$</p>
<button class="add-to-cart btn" data-id="pain-de-mie" data-name="Pain de Mie" data-price="2.20">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="3.50">
<img alt="Pain Viennois" src="Pain Viennois.jpeg"/>
<h2>Pain Viennois</h2>
<p>3,50$</p>
<button class="add-to-cart btn" data-id="pain-viennois" data-name="Pain Viennois" data-price="3.50">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="2.90">
<img alt="Pain de Seigle" src="Pain de Seigle.jpeg"/>
<h2>Pain de Seigle</h2>
<p>2,90$</p>
<button class="add-to-cart btn" data-id="pain-de-seigle" data-name="Pain de Seigle" data-price="2.90">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="3.10">
<img alt="Pain de Campagne" src="Pain de Campagne.jpeg"/>
<h2>Pain de Campagne</h2>
<p>3,10$</p>
<button class="add-to-cart btn" data-id="pain-de-campagne" data-name="Pain de Campagne" data-price="3.10">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="3.00">
<img alt="Pain Bio" src="Pain Bio.jpeg"/>
<h2>Pain Bio</h2>
<p>3,00$</p>
<button class="add-to-cart btn" data-id="pain-bio" data-name="Pain Bio" data-price="3.00">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="3.40">
<img alt="Pain Sans Gluten" src="Pain Sans Gluten.jpeg"/>
<h2>Pain Sans Gluten</h2>
<p>3,40$</p>
<button class="add-to-cart btn" data-id="pain-sans-gluten" data-name="Pain Sans Gluten" data-price="3.40">Ajouter au panier</button>
</div>
<div class="product-card" data-category="viennoiseries" data-price="1.80">
<img alt="Brioche Nanterre" src="Brioche Nanterre.jpeg"/>
<h2>Brioche Nanterre</h2>
<p>1,80$</p>
<button class="add-to-cart btn" data-id="brioche-nanterre" data-name="Brioche Nanterre" data-price="1.80">Ajouter au panier</button>
</div>
<div class="product-card" data-category="patisseries" data-price="2.70">
<img alt="Tarte Abricot" src="Tarte Abricot.jpeg"/>
<h2>Tarte Abricot</h2>
<p>2,70$</p>
<button class="add-to-cart btn" data-id="tarte-abricot" data-name="Tarte Abricot" data-price="2.70">Ajouter au panier</button>
</div>
<div class="product-card" data-category="patisseries" data-price="3.20">
<img alt="Chausson aux Pommes" src="Chausson aux Pommes.jpeg"/>
<h2>Chausson aux Pommes</h2>
<p>3,20$</p>
<button class="add-to-cart btn" data-id="chausson-aux-pommes" data-name="Chausson aux Pommes" data-price="3.20">Ajouter au panier</button>
</div>
<div class="product-card" data-category="viennoiseries" data-price="1.90">
<img alt="Pain au Lait" src="Pain au Lait.jpeg"/>
<h2>Pain au Lait</h2>
<p>1,90$</p>
<button class="add-to-cart btn" data-id="pain-au-lait" data-name="Pain au Lait" data-price="1.90">Ajouter au panier</button>
</div>
<div class="product-card" data-category="pains" data-price="2.60">
<img alt="Fougasse" src="Fougasse (2).jpeg"/>
<h2>Fougasse</h2>
<p>2,60$</p>
<button class="add-to-cart btn" data-id="fougasse" data-name="Fougasse" data-price="2.60">Ajouter au panier</button>
</div>
</div>
<!-- Chargement des scripts en fin de body -->
<script src="cart.js">
   // inline : définition de getCart(), saveCart(), updateCartCount()…
  </script>
<!-- Charge d’abord l’utilitaire panier -->
<script src="cart.js"></script>
<!-- Puis votre code spécifique : ajout au panier & tri -->
<script>
   document.addEventListener('DOMContentLoaded', () => {
     // Ici, getCart(), saveCart(), updateCartCount() sont bien disponibles
     updateCartCount();
     document.querySelectorAll('.add-to-cart').forEach(btn => {
       btn.addEventListener('click', () => {
         const id    = btn.dataset.id;
         const name  = btn.dataset.name;
         const price = parseFloat(btn.dataset.price);
         let cart    = getCart();
         const item  = cart.find(i => i.id === id);
         if (item) item.quantity++;
         else cart.push({ id, name, price, quantity: 1 });
         saveCart(cart);
         updateCartCount();
       });
     });
     // tri & filtre…
   });
 </script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      const isAuthenticated = Boolean(localStorage.getItem('userLoggedIn'));
      const catalogue = document.getElementById('catalogue');
      const categoryFilter = document.getElementById('category-filter');
      const sortSelect = document.getElementById('sort');

      function filterAndSort() {
        const cards = Array.from(catalogue.querySelectorAll('.product-card'));
        const cat = categoryFilter.value;
        const sortVal = sortSelect.value;
        let filtered = cards.filter(card => cat === 'all' || card.dataset.category === cat);
        if (sortVal === 'price-asc') filtered.sort((a,b)=>parseFloat(a.dataset.price)-parseFloat(b.dataset.price));
        if (sortVal === 'price-desc') filtered.sort((a,b)=>parseFloat(b.dataset.price)-parseFloat(a.dataset.price));
        catalogue.innerHTML = '';
        filtered.forEach(card=>{card.style.display=''; catalogue.appendChild(card)});
        cards.filter(card=>!filtered.includes(card)).forEach(card=>{card.style.display='none'; catalogue.appendChild(card)});
      }

      categoryFilter.addEventListener('change', filterAndSort);
      sortSelect.addEventListener('change', filterAndSort);

      // Gestion du clic ajouter au panier
      catalogue.addEventListener('click', e => {
        if (!e.target.classList.contains('add-to-cart')) return;
        if (!isAuthenticated) {
          return;
        }
        const btn = e.target;
        const id = btn.getAttribute('data-id');
        const name = btn.getAttribute('data-name');
        const price = parseFloat(btn.getAttribute('data-price'));
        let cart = getCart();
        const item = cart.find(i=>i.id===id);
        if (item) item.quantity++;
        else cart.push({id,name,price,quantity:1});
        saveCart(cart);
        updateCartCount();
      });

      // Initialisation
      updateCartCount();
      filterAndSort();
    });
  </script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      const catalogue = document.getElementById('catalogue');
      const categoryFilter = document.getElementById('category-filter');
      const sortSelect = document.getElementById('sort');
      const authLink = document.getElementById('auth-link');
      const isAuthenticated = Boolean(localStorage.getItem('userLoggedIn'));

      // Met à jour lien Auth
      authLink.textContent = isAuthenticated ? 'Déconnexion' : 'Connexion';
      authLink.href = isAuthenticated ? 'logout.html' : 'login.html';

      function filterAndSort() {
        const cards = Array.from(catalogue.querySelectorAll('.product-card'));
        const cat = categoryFilter.value;
        const sortVal = sortSelect.value;
        let filtered = cards.filter(card => cat === 'all' || card.dataset.category === cat);
        if (sortVal === 'price-asc') filtered.sort((a,b)=>parseFloat(a.dataset.price)-parseFloat(b.dataset.price));
        if (sortVal === 'price-desc') filtered.sort((a,b)=>parseFloat(b.dataset.price)-parseFloat(a.dataset.price));
        catalogue.innerHTML = '';
        filtered.forEach(card=>{card.style.display=''; catalogue.appendChild(card)});
        cards.filter(c=>!filtered.includes(c)).forEach(card=>{card.style.display='none'; catalogue.appendChild(card)});
      }

      categoryFilter.addEventListener('change', filterAndSort);
      sortSelect.addEventListener('change', filterAndSort);

      catalogue.addEventListener('click', e => {
        if (!e.target.classList.contains('add-to-cart')) return;
        if (!isAuthenticated) return;
        const btn = e.target;
        const id = btn.dataset.id;
        const name = btn.dataset.name;
        const price = parseFloat(btn.dataset.price);
        let cart = getCart();
        const item = cart.find(i=>i.id===id);
        if (item) item.quantity++;
        else cart.push({id,name,price,quantity:1});
        saveCart(cart);
        updateCartCount();
      });

      filterAndSort();
    });
  </script>

<script>
  let cart = JSON.parse(localStorage.getItem('cart')) || [];

  function updateCartCount() {
    document.getElementById('cart-count').textContent = cart.length;
  }

  document.querySelectorAll('.add-to-cart').forEach(button => {
    button.addEventListener('click', () => {
      const id = button.dataset.id;
      const name = button.dataset.name;
      const price = parseFloat(button.dataset.price);

      cart.push({ id, name, price });
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
    });
  });

  updateCartCount();
</script>
<!-- footer -->
     <footer>
        <div class="div1">
            <p>Suivez-nous pour plus de gourmandises !</p>
            <div class="icones_social">
                <i class="fa-brands fa-facebook-f"></i>
                <i class="fa-brands fa-youtube"></i>
                <i class="fa-brands fa-instagram"></i>
            </div>
            <p>Notre savoir-faire, partout avec vous</p>
            <div>
                <img src="app_store.png">
                <img src="play_store.png">
            </div>
        </div>
        <hr>
         <div class="div2">
            <div>
                <h3>Notre boulangerie</h3>
                <ul>
                    <a href="#">Catalogue produit</a>
                    <a href="a propos de nous.html">A propos de nous</a>
                </ul>
            </div>
    
            <div>
                <h3>Services connectés</h3>
                <ul>
                    <a href="contact.html">Contact</a>
                    <a href="FAQ.html">FAQ</a>
                    <a href="avis.html">Les avis en ligne</a>
                </ul>
            </div>
            <div>
                <h3>informations légales</h3>
                <ul>
                    <a href="Mention legales.html">Mentions légales</a>
                    <a href="cvg.html">Conditions générales de vente</a>
                    <a href="politique.html">Politique de confidentialité</a>
                </ul>
            </div>
        </div>
        <hr>
         <div class="div3">
            <p>Votre vitalité commence ici.</p>
            <p>&copy; 2025 Miséricorde Divine. Tous droits réservés.</p>
        </div>
    </footer>
    <!-- footer -->
    <script>
        let menuList = document.getElementById("menuList")
        menuList.style.maxHeight = "0px";

        function toggleMenu(){
            if(menuList.style.maxHeight == "0px")
            {
                menuList.style.maxHeight = "300px";
            }
            else{
                menuList.style.maxHeight = "0px";
            }
        }
        
    </script>
</body>
</html>